{% extends 'base.html' %}
{% load static %}

{% block content %}
<style>
    .orders-wrapper {
        min-height: 80vh;
        background: linear-gradient(135deg, #fdfbf7 0%, #fff 100%);
        padding: 4rem 0;
    }

    .status-badge {
        padding: 0.4rem 0.8rem;
        border-radius: 9999px;
        font-size: 0.8rem;
        font-weight: 600;
        display: inline-block;
    }

    .status-delivered {
        background: #dcfce7;
        color: #166534;
    }

    .status-shipped {
        background: #dbeafe;
        color: #1e40af;
    }

    .status-cancelled {
        background: #fee2e2;
        color: #991b1b;
    }

    .status-pending {
        background: #fef9c3;
        color: #854d0e;
    }
</style>

<div class="orders-wrapper">
    <div class="container" style="max-width: 1000px;">
        <div style="margin-bottom: 3rem;">
            <a href="{% url 'account' %}"
                style="color: var(--text-muted); text-decoration: none; font-size: 0.9rem; display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem;">
                <i class="fas fa-arrow-left"></i> Back to Dashboard
            </a>
            <h1 class="font-display gradient-text" style="font-size: 2.5rem; margin-bottom: 0.5rem;">Order History</h1>
            <p style="color: var(--text-muted);">View and track all your handcrafted purchases.</p>
        </div>

        {% if orders %}
        <div class="cart-items-container"
            style="background: white; border-radius: var(--radius-xl); overflow: hidden; border: 1px solid var(--border-color); box-shadow: var(--shadow-sm);">
            <table style="width: 100%; border-collapse: collapse; text-align: left;">
                <thead>
                    <tr style="background: var(--bg-body); border-bottom: 1px solid var(--border-color);">
                        <th style="padding: 1.5rem;">Order ID</th>
                        <th style="padding: 1.5rem;">Date</th>
                        <th style="padding: 1.5rem;">Status</th>
                        <th style="padding: 1.5rem;">Payment Method</th>
                        <th style="padding: 1.5rem; text-align: right;">Total Amount</th>
                    </tr>
                </thead>
                <tbody>
                    {% for order in orders %}
                    <tr style="border-bottom: 1px solid var(--border-color);">
                        <td style="padding: 1.5rem; font-weight: 600;">#{{ order.id }}</td>
                        <td style="padding: 1.5rem; color: var(--text-muted);">{{ order.created_at|date:"d M, Y" }}</td>
                        <td style="padding: 1.5rem;">
                            <span class="status-badge status-{{ order.status|lower }}">
                                {{ order.status }}
                            </span>
                        </td>
                        <td style="padding: 1.5rem; font-size: 0.9rem;">{{ order.get_payment_method_display }}</td>
                        <td style="padding: 1.5rem; text-align: right; font-weight: 700;" class="gradient-text">â‚¹{{order.total_price}}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        <div
            style="text-align: center; padding: 5rem; background: white; border-radius: var(--radius-xl); border: 1px dashed var(--border-color);">
            <i class="fas fa-box-open" style="font-size: 4rem; color: #e5e7eb; margin-bottom: 1.5rem;"></i>
            <h2 style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1rem;">No orders yet</h2>
            <p style="color: var(--text-muted); margin-bottom: 2rem;">Looks like you haven't placed any orders yet.
                Start exploring our collection!</p>
            <a href="{% url 'shop' %}" class="btn-hero btn-hero-primary"
                style="display: inline-flex; width: auto; padding: 1rem 2.5rem;">
                Browse Shop
            </a>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}